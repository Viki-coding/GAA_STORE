{# profiles/templates/profiles/add_address.html #}
{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'profiles/css/profile.css' %}">
{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2>Add a New Shipping Address</h2>
  <hr>

  <form method="post" novalidate>
    {% csrf_token %}

    {# Show any non-field errors #}
    {% if form.non_field_errors %}
      <div class="alert alert-danger" role="alert">{{ form.non_field_errors }}</div>
    {% endif %}

    {# Full name #}
    <div class="mb-3">
      <label for="{{ form.full_name.id_for_label }}" class="form-label">Full Name</label>
      {{ form.full_name|add_class:"form-control" }}
      {% for error in form.full_name.errors %}
        <div class="invalid-feedback d-block" role="alert">{{ error }}</div>
      {% endfor %}
    </div>

    {# Phone number #}
    <div class="mb-3">
      <label for="{{ form.phone_number.id_for_label }}" class="form-label">Phone Number</label>
      {{ form.phone_number|add_class:"form-control" }}
      {% for error in form.phone_number.errors %}
        <div class="invalid-feedback d-block" role="alert">{{ error }}</div>
      {% endfor %}
    </div>

    {# Street Address 1 #}
    <div class="mb-3">
      <label for="{{ form.street_address1.id_for_label }}" class="form-label">Street Address 1</label>
      {{ form.street_address1|add_class:"form-control" }}
      {% for error in form.street_address1.errors %}
        <div class="invalid-feedback d-block" role="alert">{{ error }}</div>
      {% endfor %}
    </div>

    {# Street Address 2 (optional) #}
    <div class="mb-3">
      <label for="{{ form.street_address2.id_for_label }}" class="form-label">Street Address 2 (Optional)</label>
      {{ form.street_address2|add_class:"form-control" }}
      {% for error in form.street_address2.errors %}
        <div class="invalid-feedback d-block" role="alert">{{ error }}</div>
      {% endfor %}
    </div>

    {# Town/City #}
    <div class="mb-3">
      <label for="{{ form.town_or_city.id_for_label }}" class="form-label">Town or City</label>
      {{ form.town_or_city|add_class:"form-control" }}
      {% for error in form.town_or_city.errors %}
        <div class="invalid-feedback d-block" role="alert">{{ error }}</div>
      {% endfor %}
    </div>

    {# County/State #}
    <div class="mb-3">
      <label for="{{ form.county.id_for_label }}" class="form-label">County</label>
      {{ form.county|add_class:"form-control" }}
      {% for error in form.county.errors %}
        <div class="invalid-feedback d-block" role="alert">{{ error }}</div>
      {% endfor %}
    </div>

    {# Eircode / Postal Code #}
    <div class="mb-3">
      <label for="{{ form.eircode.id_for_label }}" class="form-label">Eircode</label>
      {{ form.eircode|add_class:"form-control" }}
      {% for error in form.eircode.errors %}
        <div class="invalid-feedback d-block" role="alert">{{ error }}</div>
      {% endfor %}
    </div>

    {# Country #}
    <div class="mb-3">
      <label for="{{ form.country.id_for_label }}" class="form-label">Country</label>
      {{ form.country|add_class:"form-select" }}
      {% for error in form.country.errors %}
        <div class="invalid-feedback d-block" role="alert">{{ error }}</div>
      {% endfor %}
    </div>

    {# “Set as default?” checkbox (if your form has it) #}
    {% if form.is_default %}
      <div class="mb-3 form-check">
        {{ form.is_default|add_class:"form-check-input" }}
        <label for="{{ form.is_default.id_for_label }}" class="form-check-label">
          {{ form.is_default.label }}
        </label>
      </div>
    {% endif %}

    <button type="submit" class="btn btn-primary">Save Address</button>
    <a href="{% url 'profile' %}" class="btn btn-outline-secondary ms-2">Cancel</a>
  </form>
</div>
{% endblock %}
